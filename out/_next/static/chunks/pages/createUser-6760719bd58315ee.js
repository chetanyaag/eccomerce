(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[554],{9721:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/createUser",function(){return t(3717)}])},4816:function(e,n,t){"use strict";var r=t(5893),s=t(7294),a=t(2293),i=t(9226),l=t(155),o=t(3946),c=t(5861),h=t(5319),d=t(326),x=t(5582),u=t(3321),j=t(9840),p=t(3960),m=t(1664),Z=t.n(m);let f=["dashboard","createUser"];n.Z=function(){let[e,n]=s.useState(null),[t,m]=s.useState(null),g=e=>{n(e.currentTarget)},v=()=>{n(null)};return(0,r.jsx)(a.Z,{color:"secondary",children:(0,r.jsx)(x.Z,{maxWidth:"xl",children:(0,r.jsxs)(l.Z,{disableGutters:!0,children:[(0,r.jsx)(p.Z,{sx:{display:{xs:"none",md:"flex"},mr:1}}),(0,r.jsx)(c.Z,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,color:"inherit",textDecoration:"none"},children:"Star"}),(0,r.jsxs)(i.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,r.jsx)(o.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:g,color:"inherit",children:(0,r.jsx)(d.Z,{})}),(0,r.jsx)(h.Z,{id:"menu-appbar",anchorEl:e,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!e,onClose:v,sx:{display:{xs:"block",md:"none"}},children:f.map(e=>(0,r.jsx)(j.Z,{onClick:v,children:(0,r.jsx)(Z(),{href:e,legacyBehavior:!0,children:(0,r.jsx)(c.Z,{textAlign:"center",children:e})})},e))})]}),(0,r.jsx)(p.Z,{sx:{display:{xs:"flex",md:"none"},mr:1}}),(0,r.jsx)(c.Z,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"star"}),(0,r.jsx)(i.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:f.map(e=>(0,r.jsx)(Z(),{href:e,legacyBehavior:!0,children:(0,r.jsx)("a",{style:{textDecoration:"none"},children:(0,r.jsx)(u.Z,{onClick:v,sx:{my:2,color:"white",display:"block"},children:e},e)})}))})]})})})}},4661:function(e,n,t){"use strict";t.d(n,{A:function(){return r}});let r="http://api.paisabacha.in/"},3717:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return T}});var r=t(5893),s=t(4661),a=t(6242),i=t(4267),l=t(5861),o=t(8986),c=t(1233),h=t(3321),d=t(1163),x=t.n(d),u=t(7294),j=t(5885);function p(){let[e,n]=(0,u.useState)(""),[t,d]=(0,u.useState)(""),[p,m]=(0,u.useState)(""),Z=new j.Z;(0,u.useEffect)(()=>{null!=Z.get("token")&&fetch(s.A+"check_admin",{method:"POST",body:JSON.stringify({tkn:Z.get("token")}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>{200!=e.status?(Z.set("token","",{path:"/",expires:new Date(Date.now())}),x().push("/dashboard")):m(Z.get("token"))}),null==Z.get("token")&&x().push("/login")},[]);let f=e=>{n(e.currentTarget.value)},g=e=>{d(e.currentTarget.value)},v=n=>{(""==e||""==t)&&alert("something is not filed"),fetch(s.A+"create_user",{method:"POST",body:JSON.stringify({username:e,password:t,tkn:p}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>{alert(e.message)})};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.Z,{children:(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(l.Z,{gutterBottom:!0,variant:"h5",component:"div",children:"Create User"}),(0,r.jsx)(o.Z,{style:{margin:"3px 0"},label:"username",variant:"outlined",value:e,onChange:f,fullWidth:!0}),(0,r.jsx)(o.Z,{style:{margin:"5px 0"},label:"password",type:"password",variant:"outlined",value:t,onChange:g,fullWidth:!0}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"16px 0"},children:(0,r.jsx)(c.Z,{spacing:2,direction:"row",children:(0,r.jsx)(h.Z,{variant:"contained",color:"secondary",onClick:v,children:"Create User"})})})]})})})}var m=t(4816),Z=t(2882),f=t(629),g=t(7906),v=t(3184),y=t(3816),w=t(3252),k=t(295),b=t(7957);function C(){let[e,n]=(0,u.useState)([]),[t,c]=(0,u.useState)(!1),[d,x]=(0,u.useState)(8e3),[p,m]=(0,u.useState)(""),[C,S]=(0,u.useState)(""),_=new j.Z;(0,u.useEffect)(()=>{fetch(s.A+"get_users").then(e=>e.json()).then(e=>{200==e.status&&n(e.message)})});let T=(n,t)=>{c(!0),x(t),m(e[t])},P=(e,n)=>{c(!1),x(6e3),C.length<5&&alert("Password should contain atleast 5 char"),C.length>5&&fetch(s.A+"change_password",{method:"POST",body:JSON.stringify({tkn:_.get("token"),user:p,pwrd:C}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>{200===e.status?alert("New password is updated"):alert("User Not found in database")}),m(""),S("")},N=e=>{S(e.target.value)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.Z,{children:(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(l.Z,{variant:"h5",children:"All Users"}),(0,r.jsx)("br",{}),(0,r.jsx)(Z.Z,{component:f.Z,children:(0,r.jsxs)(g.Z,{"aria-label":"Active Users",children:[(0,r.jsx)(v.Z,{children:(0,r.jsxs)(y.Z,{children:[(0,r.jsxs)(w.Z,{children:[(0,r.jsx)(l.Z,{variant:"h6",children:"Tag"})," "]}),(0,r.jsx)(w.Z,{children:(0,r.jsx)(l.Z,{variant:"h6",children:"Password"})}),(0,r.jsx)(w.Z,{children:(0,r.jsx)(l.Z,{variant:"h6",children:"Edit"})})]})}),(0,r.jsx)(k.Z,{children:e.map((e,n)=>(0,r.jsxs)(y.Z,{children:[(0,r.jsx)(w.Z,{children:e}),(0,r.jsx)(w.Z,{children:t&&d===n?(0,r.jsx)(o.Z,{label:"enter password",value:C,onChange:N,variant:"outlined"}):(0,r.jsx)(l.Z,{variant:"h6",children:"*********"})}),(0,r.jsx)(w.Z,{children:t&&d===n?(0,r.jsx)(h.Z,{onClick:e=>{P(e,n)},variant:"contained",color:"success",children:" save"}):(0,r.jsx)(h.Z,{onClick:e=>{T(e,n)},children:(0,r.jsx)(b.Z,{})})})]}))})]})})]})})})}var S=t(5582),_=t(6886);function T(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{}),(0,r.jsx)(S.Z,{maxWidth:"md",style:{textAlign:"center",marginTop:"6rem",marginBottom:"3rem"},children:(0,r.jsx)(l.Z,{variant:"h4",component:"h1",children:"Create link here"})}),(0,r.jsxs)(_.ZP,{container:!0,children:[(0,r.jsx)(_.ZP,{item:!0,xs:12,sm:12,md:1,children:" "}),(0,r.jsx)(_.ZP,{item:!0,xs:12,sm:12,md:4,children:(0,r.jsx)(p,{})}),(0,r.jsx)(_.ZP,{item:!0,xs:12,sm:12,md:1,children:" "}),(0,r.jsx)(_.ZP,{item:!0,xs:12,sm:12,md:6,children:(0,r.jsx)(C,{})})]})]})}}},function(e){e.O(0,[795,886,298,844,774,888,179],function(){return e(e.s=9721)}),_N_E=e.O()}]);